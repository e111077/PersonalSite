<link rel="import" href="elliott-shared-styles.html">

<link rel="import" href="../bower_components/iron-image/iron-image.html">
<link rel="import" href="../bower_components/marked-element/marked-element.html">


<dom-module id="elliott-project-popup">
  <template>
    <custom-style>
      <style include="elliott-shared-styles">
        :host {
          font-family: var(--main-font);
          font-size: 2em;
          z-index: 3;
          border: solid black 1px;
        }

        #wrapper {
          background-color: transparent;
          border: solid black 1px;
        }

        #background {
          width: 100%;
          height: 100%;
          background-color: black;
          position: absolute;
        }

        #popup {
          background-color: white;
          padding: 20px;
          max-width: 80%;
          display: flex;
        }

        #title {
          font-size: 2em;
        }

        #head {
          font-size: 1.2em;
        }

        #image {
          width: 200px;
          height: 200px;
        }

        #imgWrap {
          padding-right: 20px;
          display: flex;
          flex-direction: column;
          justify-content: center;
        }
      </style>
    </custom-style>

    <div id="wrapper" on-click="closePopup">
      <!--<div id="background"></div>-->
      <div id="popup" on-click="_stopClick">
        <div id="imgWrap">
          <iron-image
              id="image"
              src="/assets/[[project.img]]"
              sizing="contain">
          </iron-image>
        </div>
        <div>
          <a id="title" href$="[[project.link]]">[[project.title]]</a>
          <div id="head"></div>
          <div>
            <marked-element markdown="[[project.desc]]">
              <div slot="markdown-html" class="markdown-html"></div>
            </marked-element>
          </div>
        </div>
      </div>
    </div>
  </template>
  <script>
    class ElliottProjectPopup extends Polymer.Element {
      static get is() { return 'elliott-project-popup' }

      static get config() {
        let props = {
          properties: {
            project: {
              type: Object,
              observer: '_projectChanged'
            }
          }
        }

        return props;
      }

      _projectChanged() {
        this.showPopup();
      }

      closePopup() {
        this.fire('close-popup');
      }

      showPopup() {

      }

      _stopClick(evt) {
        evt.stopPropagation();
      }
    }
    
    customElements.define(ElliottProjectPopup.is, ElliottProjectPopup);
  </script>
</dom-module>